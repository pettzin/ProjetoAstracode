<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astracode</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body>

    <div class="header">
        <button class="menu-icon" onclick="home()">üè†</button>
        <div class="title">ASTRACODE</div>
        <div class="profile">
            <div class="settings-icon">‚öôÔ∏è</div>
            <div class="dropdown" id="profileMenu">
                <a href="#">Editar Perfil</a>
                <a href="#">Alterar Senha</a>
                <a href="#">Alterar Email</a>
                <a href="#">Sair</a>
            </div>
        </div>
    </div>

    <div class="cadastro">
        <button id="openDialog">Cadastrar Contato</button>

        <dialog id="contactDialog">
            <h1>Cadastro de Contatos</h1>
            <form id="contactForm">
                <input type="text" id="name" placeholder="Nome" required>
                <input type="email" id="email" placeholder="E-mail" required>
                <input type="text" id="phone" placeholder="Telefone" required>
                <button type="submit">Cadastrar</button>
                <button type="button" id="closeDialog">Cancelar</button>
            </form>
        </dialog>
    
        <h2>Lista de Contatos</h2>
        <ul id="contactList"></ul>
    
    </div>

    <script>
        const openDialogButton = document.getElementById('openDialog');
        const contactDialog = document.getElementById('contactDialog');
        const closeDialogButton = document.getElementById('closeDialog');
        const contactForm = document.getElementById('contactForm');
        const contactList = document.getElementById('contactList');
        const phoneInput = document.getElementById('phone');
    
        openDialogButton.addEventListener('click', () => {
            contactDialog.showModal();
        });
    
        closeDialogButton.addEventListener('click', () => {
            contactDialog.close();
        });
    
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
    
            const name = document.getElementById('name').value;
    
            if (name) {
                const listItem = document.createElement('li');
                listItem.classList.add('contact-item');
                
                // Criando o √≠cone de pessoa usando FontAwesome
                const icon = document.createElement('i');
                icon.classList.add('fas', 'fa-user'); // √çcone de pessoa do FontAwesome
                icon.classList.add('contact-icon'); // Estilo do √≠cone
    
                const link = document.createElement('a');
                link.href = "#";
                link.textContent = name;
                link.classList.add('contact-link');
                
                listItem.appendChild(icon); // Adicionando o √≠cone √† lista
                listItem.appendChild(link); // Adicionando o nome √† lista
                contactList.appendChild(listItem);
    
                contactForm.reset();
                contactDialog.close();
            }
        });
    
        phoneInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, "");
            value = value.substring(0, 11);
            
            if (value.length > 2) {
                value = "(" + value.substring(0, 2) + ") " + value.substring(2);
            }
            if (value.length > 9) {
                value = value.substring(0, 10) + "-" + value.substring(10);
            }
            
            e.target.value = value;
        });
        
        const settingsIcon = document.querySelector('.settings-icon');
        const profileMenu = document.getElementById('profileMenu');

        settingsIcon.addEventListener('click', () => {
            profileMenu.style.display = profileMenu.style.display === 'block' ? 'none' : 'block';
        });

        window.addEventListener('click', (event) => {
            if (!settingsIcon.contains(event.target) && !profileMenu.contains(event.target)) {
                profileMenu.style.display = 'none';
            }
        });

        function home() {
            alert('Bot√£o Home clicado!');
        }
    </script>

</body>
</html>